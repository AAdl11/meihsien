<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Journey of Kindness - Tzu Chi Foundation</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    // import React, { useState, useEffect } from 'react';
import { Heart, Package, Home, Coffee, Users, Flower2 } from 'lucide-react';

const JourneyOfKindness = () => {
  const [stage, setStage] = useState(0);
  const [emotion, setEmotion] = useState('');
  const [gridPosition, setGridPosition] = useState({ x: 0, y: 0 });
  const [deliveries, setDeliveries] = useState(0);
  const [hanoiTowers, setHanoiTowers] = useState({
    A: [3, 2, 1],
    B: [],
    C: []
  });
  const [selectedTower, setSelectedTower] = useState(null);
  const [moves, setMoves] = useState(0);
  const [message, setMessage] = useState('');

  // Stage 0: Welcome
  const WelcomeScreen = () => (
    <div className="min-h-screen bg-gradient-to-b from-blue-900 via-purple-800 to-orange-500 flex items-center justify-center p-8 text-white">
      <div className="max-w-2xl text-center space-y-8 animate-fade-in">
        <div className="text-6xl mb-4">ğŸŒ…</div>
        <h1 className="text-5xl font-bold mb-4">Journey of Kindness</h1>
        <h2 className="text-3xl mb-8">æ…ˆæ‚²ä¹‹æ—…</h2>
        <div className="bg-black/30 p-6 rounded-lg backdrop-blur">
          <p className="text-xl leading-relaxed italic">
            åœ¨èˆŠé‡‘å±±ï¼Œæ¯å¤©æœ‰é€™æ¨£ä¸€ç¾¤äººï¼Œ<br/>
            ç”¨æ„›å¿ƒé»äº®ç¤¾å€çš„æ¯å€‹è§’è½ã€‚<br/><br/>
            ä»Šå¤©ï¼Œä½ å°‡é«”é©—æ…ˆæ¿Ÿå¿—å·¥çš„ä¸€å¤©ï¼Œ<br/>
            å¾å…§å¿ƒè¦ºé†’åˆ°ç¤¾å€æœå‹™ã€‚<br/><br/>
            In San Francisco, there are people<br/>
            who light up every corner with love.<br/><br/>
            Today, you will experience a day<br/>
            in the life of a Tzu Chi volunteer.
          </p>
        </div>
        <div className="space-y-4">
          <p className="text-lg">ä½ ä»Šå¤©æ„Ÿè¦ºå¦‚ä½•ï¼Ÿ/ How are you feeling today?</p>
          <input
            type="text"
            value={emotion}
            onChange={(e) => setEmotion(e.target.value)}
            placeholder="è¼¸å…¥ä½ çš„æƒ…ç·’ / Enter your emotion..."
            className="w-full px-6 py-3 rounded-full text-black text-center text-lg"
          />
          <button
            onClick={() => emotion && setStage(1)}
            className="bg-gradient-to-r from-yellow-400 to-orange-500 text-black px-12 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform"
          >
            é–‹å§‹æ—…ç¨‹ / Begin Journey
          </button>
        </div>
      </div>
    </div>
  );

  // Stage 1: Grid World - å¿—å·¥é€æ„›å¿ƒ
  const Stage1 = () => {
    const gridSize = 5;
    const homes = [[4, 1], [2, 3], [4, 4], [1, 4], [3, 0]];
    
    const moveVolunteer = (dx, dy) => {
      const newX = Math.max(0, Math.min(gridSize - 1, gridPosition.x + dx));
      const newY = Math.max(0, Math.min(gridSize - 1, gridPosition.y + dy));
      setGridPosition({ x: newX, y: newY });
      
      // Check if reached a home
      const reachedHome = homes.find(([x, y]) => x === newX && y === newY);
      if (reachedHome && deliveries < 5) {
        setDeliveries(deliveries + 1);
        setMessage('ç‰©è³‡é€é”ï¼/ Delivery made! ğŸ');
        setTimeout(() => setMessage(''), 2000);
      }
    };

    return (
      <div className="min-h-screen bg-gradient-to-br from-green-100 to-blue-100 p-8">
        <div className="max-w-4xl mx-auto">
          <div className="text-center mb-8">
            <h2 className="text-4xl font-bold text-green-800 mb-4">
              Stage 1: æ—©æ™¨è¦ºé†’ / Morning Light
            </h2>
            <p className="text-xl text-gray-700">
              é€ç‰©è³‡åˆ° Hunters Point çš„ 5 å€‹å®¶åº­<br/>
              Deliver supplies to 5 families in Hunters Point
            </p>
            <div className="mt-4 text-2xl font-bold text-green-600">
              é€é”: {deliveries}/5 deliveries
            </div>
            {message && <div className="mt-2 text-lg text-green-600 font-bold">{message}</div>}
          </div>

          {/* Grid */}
          <div className="bg-white p-8 rounded-xl shadow-2xl mb-6">
            <div className="grid gap-2" style={{ gridTemplateColumns: `repeat(${gridSize}, 1fr)` }}>
              {Array.from({ length: gridSize * gridSize }).map((_, idx) => {
                const x = Math.floor(idx / gridSize);
                const y = idx % gridSize;
                const isVolunteer = gridPosition.x === x && gridPosition.y === y;
                const isHome = homes.some(([hx, hy]) => hx === x && hy === y);
                
                return (
                  <div
                    key={idx}
                    className={`aspect-square flex items-center justify-center text-4xl rounded-lg transition-all ${
                      isVolunteer ? 'bg-green-400 scale-110' : isHome ? 'bg-yellow-200' : 'bg-gray-100'
                    }`}
                  >
                    {isVolunteer ? 'ğŸ’š' : isHome ? 'ğŸ ' : ''}
                  </div>
                );
              })}
            </div>
          </div>

          {/* Controls */}
          <div className="flex flex-col items-center gap-4">
            <div className="flex gap-4">
              <button onClick={() => moveVolunteer(-1, 0)} className="bg-blue-500 text-white px-6 py-3 rounded-lg text-xl hover:bg-blue-600">â¬†ï¸ ä¸Š</button>
            </div>
            <div className="flex gap-4">
              <button onClick={() => moveVolunteer(0, -1)} className="bg-blue-500 text-white px-6 py-3 rounded-lg text-xl hover:bg-blue-600">â¬…ï¸ å·¦</button>
              <button onClick={() => moveVolunteer(0, 1)} className="bg-blue-500 text-white px-6 py-3 rounded-lg text-xl hover:bg-blue-600">â¡ï¸ å³</button>
            </div>
            <div className="flex gap-4">
              <button onClick={() => moveVolunteer(1, 0)} className="bg-blue-500 text-white px-6 py-3 rounded-lg text-xl hover:bg-blue-600">â¬‡ï¸ ä¸‹</button>
            </div>
          </div>

          {deliveries >= 5 && (
            <div className="mt-8 text-center">
              <div className="bg-green-100 p-6 rounded-xl mb-4">
                <p className="text-xl text-green-800">
                  ç‰©è³‡é€é”äº†ï¼å¿—å·¥çš„ä¸€å¤©æ‰å‰›é–‹å§‹ã€‚<br/>
                  ä¾†åˆ°æ…ˆæ¿Ÿäººæ–‡å­¸æ ¡ï¼Œè®“æˆ‘å€‘åœ¨èŒ¶é“ä¸­å­¸ç¿’ç¦®å„€èˆ‡éœæ€ã€‚<br/><br/>
                  Deliveries complete! The volunteer's day has just begun.<br/>
                  Let's learn etiquette and reflection through tea ceremony.
                </p>
              </div>
              <button
                onClick={() => setStage(2)}
                className="bg-gradient-to-r from-green-500 to-blue-500 text-white px-12 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform"
              >
                ç¹¼çºŒ / Continue â†’
              </button>
            </div>
          )}
        </div>
      </div>
    );
  };

  // Stage 2: Pancake Hanoi - èŒ¶é“äººæ–‡
  const Stage2 = () => {
    const pancakeNames = {
      1: { name: 'æ„Ÿæ©', en: 'Gratitude', quote: 'æ„Ÿæ©ä¸åƒ…æ˜¯ä¸€ç¨®ç¦®è²Œï¼Œæ›´æ˜¯ä¸€ç¨®å…§å¿ƒä¿®é¤Š / Gratitude is not just politeness, but inner cultivation' },
      2: { name: 'å°Šé‡', en: 'Respect', quote: 'å°Šé‡ç”Ÿå‘½ï¼Œçæƒœç•¶ä¸‹ / Respect life, cherish the present' },
      3: { name: 'æ„›', en: 'Love', quote: 'æ„›æ˜¯ä»˜å‡ºï¼Œä¸æ±‚å›å ± / Love is giving without expectation' }
    };

    const colors = {
      1: 'from-yellow-300 to-yellow-400',
      2: 'from-orange-300 to-orange-400',
      3: 'from-red-300 to-red-400'
    };

    const handleTowerClick = (tower) => {
      if (selectedTower === null) {
        if (hanoiTowers[tower].length > 0) {
          setSelectedTower(tower);
        }
      } else {
        if (selectedTower !== tower) {
          const fromDisc = hanoiTowers[selectedTower][hanoiTowers[selectedTower].length - 1];
          const toDisc = hanoiTowers[tower][hanoiTowers[tower].length - 1];
          
          if (!toDisc || fromDisc < toDisc) {
            const newTowers = { ...hanoiTowers };
            const disc = newTowers[selectedTower].pop();
            newTowers[tower].push(disc);
            setHanoiTowers(newTowers);
            setMoves(moves + 1);
            setMessage(pancakeNames[disc].quote);
            setTimeout(() => setMessage(''), 4000);
          }
        }
        setSelectedTower(null);
      }
    };

    const isComplete = hanoiTowers.C.length === 3 && hanoiTowers.C[0] === 3 && hanoiTowers.C[2] === 1;

    return (
      <div className="min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-8">
        <div className="max-w-6xl mx-auto">
          <div className="text-center mb-8">
            <div className="text-6xl mb-4">ğŸµ</div>
            <h2 className="text-4xl font-bold text-green-800 mb-4">
              Stage 2: èŒ¶é“äººæ–‡ / Spiritual Tea Ceremony
            </h2>
            <p className="text-xl text-gray-700 mb-4">
              æ…ˆæ¿Ÿäººæ–‡å­¸æ ¡ - å †ç–Šç¾å¾·ç…é¤…<br/>
              Tzu Chi Academy - Stack the virtue pancakes
            </p>
            <div className="text-lg text-gray-600">
              ç§»å‹•æ¬¡æ•¸ / Moves: {moves}
            </div>
            {message && (
              <div className="mt-4 bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300">
                <p className="text-lg text-gray-800 italic">{message}</p>
              </div>
            )}
          </div>

          <div className="bg-white p-8 rounded-xl shadow-2xl">
            <div className="grid grid-cols-3 gap-8">
              {['A', 'B', 'C'].map((tower) => (
                <div key={tower} className="flex flex-col items-center">
                  <div className="text-2xl font-bold mb-4 text-gray-700">
                    {tower === 'A' && 'èŒ¶åº§ A'}
                    {tower === 'B' && 'èŒ¶åº§ B'}
                    {tower === 'C' && 'èŒ¶åº§ C'}
                  </div>
                  <div
                    onClick={() => handleTowerClick(tower)}
                    className={`w-full h-80 bg-gradient-to-t from-amber-700 to-amber-600 rounded-lg flex flex-col-reverse items-center justify-start p-4 cursor-pointer hover:shadow-lg transition-all ${
                      selectedTower === tower ? 'ring-4 ring-green-500' : ''
                    }`}
                  >
                    {hanoiTowers[tower].map((disc, idx) => (
                      <div
                        key={idx}
                        className={`bg-gradient-to-r ${colors[disc]} rounded-full h-12 flex items-center justify-center shadow-lg mb-2 text-white font-bold`}
                        style={{ width: `${disc * 30 + 40}%` }}
                      >
                        {pancakeNames[disc].name} / {pancakeNames[disc].en}
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>

          {isComplete && (
            <div className="mt-8 text-center">
              <div className="bg-green-100 p-6 rounded-xl mb-4">
                <p className="text-2xl text-green-800 font-bold mb-2">
                  ç¾å¾·å †ç–Šå®Œæˆï¼èŒ¶é¦™æ½¤æ¾¤äººå¿ƒ âœ¨<br/>
                  Virtues stacked! Tea fragrance nourishes the heart
                </p>
                <p className="text-lg text-gray-700 mt-4">
                  èŒ¶é“è®“å¿ƒæ²‰éœï¼Œç¾å¾·è®“å¿ƒè±ç›ˆã€‚<br/>
                  ä½† 2000 å¹´ï¼Œä¸€å€‹ç•«é¢æ”¹è®Šäº†ä¸€åˆ‡...<br/><br/>
                  Tea ceremony calms the mind, virtues enrich the heart.<br/>
                  But in 2000, one moment changed everything...
                </p>
              </div>
              <button
                onClick={() => setStage(2.5)}
                className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-12 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform"
              >
                ç¹¼çºŒ / Continue â†’
              </button>
            </div>
          )}
        </div>
      </div>
    );
  };

  // Transition: Raw Rice Incident
  const RiceIncident = () => {
    return (
      <div className="min-h-screen bg-gradient-to-br from-amber-100 to-orange-200 flex items-center justify-center p-8">
        <div className="max-w-3xl bg-white p-12 rounded-2xl shadow-2xl">
          <div className="text-6xl text-center mb-8">ğŸš</div>
          <h2 className="text-4xl font-bold text-center text-gray-800 mb-8">
            ç”Ÿç±³äº‹ä»¶ / The Raw Rice Moment
          </h2>
          <div className="space-y-6 text-lg text-gray-700 leading-relaxed">
            <p className="text-center italic">
              <strong>2000 å¹´ï¼ŒHunters Point å°å­¸</strong><br/>
              2000, Hunters Point Elementary School
            </p>
            <p>
              æ…ˆæ¿Ÿå¿—å·¥åœ¨å­¸æ ¡ç™¼æ”¾é£Ÿç‰©è¢‹å’Œæ›¸ç±ï¼Œè®“å°æœ‹å‹ä¸‹èª²å¾Œå¯ä»¥èˆ‡å®¶äººåˆ†äº«ã€‚<br/>
              <em>Tzu Chi volunteers distributed food bags and books at school for children to share with their families.</em>
            </p>
            <p>
              ä¸€å€‹å°å¥³å­©æ‹¿åˆ°é£Ÿç‰©è¢‹ï¼Œçœ‹åˆ°è£¡é¢æœ‰ä¸€åŒ…ç™½è‰²çš„ç”Ÿç±³...<br/>
              <em>A little girl received a food bag and saw a pack of raw rice inside...</em>
            </p>
            <p className="text-2xl text-center my-8">
              å¥¹ç›´æ¥æŠ“èµ·ç”Ÿç±³ï¼Œæ”¾é€²å˜´è£¡å’€åš¼ã€‚<br/>
              <em>She grabbed the raw rice and put it directly in her mouth.</em>
            </p>
            <p>
              å¿—å·¥éœ‡é©šåœ°å•ï¼š"ä½ é¤“äº†å¤šä¹…ï¼Ÿ"<br/>
              <em>The volunteer asked in shock: "How long have you been hungry?"</em>
            </p>
            <p className="text-2xl text-red-600 font-bold text-center my-8">
              "å…©ä¸‰å¤©æ²’åƒé£¯äº†..."<br/>
              <em>"Haven't eaten for two or three days..."</em>
            </p>
            <p className="text-center text-green-700 font-bold text-xl mt-8">
              é€™ä¸€åˆ»ï¼Œè§¸å‹•äº†ç„¡æ•¸å¿—å·¥çš„å¿ƒã€‚<br/>
              å¾æ­¤ï¼Œ25 å¹´çš„æ„›ï¼Œåœ¨ Hunters Point ç”Ÿæ ¹ã€‚<br/><br/>
              <em>This moment touched countless volunteers' hearts.<br/>
              Since then, 25 years of love took root in Hunters Point.</em>
            </p>
          </div>
          <div className="mt-12 text-center">
            <button
              onClick={() => setStage(3)}
              className="bg-gradient-to-r from-red-500 to-orange-500 text-white px-12 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform"
            >
              ç¹¼çºŒæœå‹™ä¹‹æ—… / Continue the Journey â†’
            </button>
          </div>
        </div>
      </div>
    );
  };

  // Stage 3-5: Simplified versions
  const FinalStages = () => (
    <div className="min-h-screen bg-gradient-to-br from-purple-100 to-pink-100 p-8 flex items-center justify-center">
      <div className="max-w-2xl text-center space-y-8">
        <div className="text-6xl mb-4">ğŸŒ¸</div>
        <h2 className="text-4xl font-bold text-purple-800">
          æ—…ç¨‹å®Œæˆ / Journey Complete
        </h2>
        <div className="bg-white p-8 rounded-xl shadow-xl space-y-4 text-lg text-gray-700">
          <p>
            <strong>ä½ å®Œæˆäº†ä¸€å¤©çš„å¿—å·¥æœå‹™ï¼</strong><br/>
            You completed a day of volunteer service!
          </p>
          <div className="space-y-2 text-left">
            <p>âœ… Stage 1: é€é” 5 å€‹å®¶åº­ / Delivered to 5 families</p>
            <p>âœ… Stage 2: å­¸ç¿’èŒ¶é“ç¾å¾· / Learned tea ceremony virtues</p>
            <p>âœ… è¦‹è­‰ç”Ÿç±³äº‹ä»¶çš„å•Ÿç™¼ / Witnessed the raw rice incident</p>
          </div>
          <div className="mt-8 pt-8 border-t-2 border-purple-200">
            <p className="text-xl font-bold text-purple-700 mb-4">
              ä½ é¡˜æ„æˆç‚ºçœŸæ­£çš„æ…ˆæ¿Ÿå¿—å·¥å—ï¼Ÿ<br/>
              Would you like to become a real Tzu Chi volunteer?
            </p>
            <p className="text-gray-600">
              è¯ç¹« Contact: hsu.meihsien@gmail.com<br/>
              æ…ˆæ¿ŸèˆŠé‡‘å±± Tzu Chi San Francisco
            </p>
          </div>
        </div>
        <button
          onClick={() => {
            setStage(0);
            setEmotion('');
            setGridPosition({ x: 0, y: 0 });
            setDeliveries(0);
            setHanoiTowers({ A: [3, 2, 1], B: [], C: [] });
            setMoves(0);
          }}
          className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-12 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform"
        >
          é‡æ–°é–‹å§‹ / Restart Journey
        </button>
      </div>
    </div>
  );

  return (
    <div className="font-sans">
      {stage === 0 && <WelcomeScreen />}
      {stage === 1 && <Stage1 />}
      {stage === 2 && <Stage2 />}
      {stage === 2.5 && <RiceIncident />}
      {stage >= 3 && <FinalStages />}
    </div>
  );
};

export default JourneyOfKindness;
  </script>
</body>
</html>
```
